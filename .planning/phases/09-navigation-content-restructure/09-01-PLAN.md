---
phase: 09-navigation-content-restructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/Header.tsx
  - next.config.ts
  - src/app/page.tsx
autonomous: true

must_haves:
  truths:
    - "User sees combined Learn dropdown in header replacing separate Who and What dropdowns"
    - "User sees Coming Soon badges on Add, My Projects, Take a Test, My Results items in Learn dropdown"
    - "Coming Soon items are not clickable (disabled, no navigation)"
    - "User visiting /who is permanently redirected to /my-relationships (308)"
    - "User visiting /what is permanently redirected to /my-info (308)"
    - "Home page heading reads 'The Personality Continua'"
  artifacts:
    - path: "src/components/layout/Header.tsx"
      provides: "Combined Learn dropdown with Coming Soon items"
      contains: "learnItems"
    - path: "next.config.ts"
      provides: "Permanent redirects from /who and /what"
      contains: "redirects"
    - path: "src/app/page.tsx"
      provides: "Updated home page copy"
      contains: "The Personality Continua"
  key_links:
    - from: "src/components/layout/Header.tsx"
      to: "/my-relationships, /my-info"
      via: "Link href in learnItems"
      pattern: "href.*my-relationships|href.*my-info"
    - from: "next.config.ts"
      to: "/my-relationships, /my-info"
      via: "redirect destination"
      pattern: "destination.*my-relationships|destination.*my-info"
---

<objective>
Restructure the header navigation from separate Who/What dropdowns into a single Learn dropdown with Coming Soon indicators, add permanent URL redirects for old paths, and update the home page heading.

Purpose: Transform the navigation to reflect the product's evolving content structure -- combining audience and offering items under one Learn menu, signaling future features with Coming Soon badges, and ensuring old URLs redirect seamlessly.

Output: Updated Header.tsx with Learn dropdown, next.config.ts with redirects, updated home page copy.
</objective>

<execution_context>
@/Users/shantam/.claude/get-shit-done/workflows/execute-plan.md
@/Users/shantam/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-navigation-content-restructure/09-RESEARCH.md
@src/components/layout/Header.tsx
@next.config.ts
@src/app/page.tsx
@docs/style-guide.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restructure Header with Learn dropdown and Coming Soon items</name>
  <files>src/components/layout/Header.tsx</files>
  <action>
Replace the separate Who and What Menu components in Header.tsx with a single Learn Menu component.

1. Remove the `whoItems` and `whatItems` arrays. Replace with a single `learnItems` array:
```typescript
const learnItems = [
  { href: '/my-relationships', label: 'My Relationships', comingSoon: false },
  { href: '/my-info', label: 'My Info', comingSoon: false },
  { href: '#', label: 'Add', comingSoon: true },
  { href: '#', label: 'My Projects', comingSoon: true },
  { href: '#', label: 'Take a Test', comingSoon: true },
  { href: '#', label: 'My Results', comingSoon: true },
]
```

2. Replace the two Who and What `<Menu>` blocks with a single Learn `<Menu>`:
- MenuButton text: "Learn"
- MenuButton styling: same pill style as existing buttons (`rounded-full bg-white/20 backdrop-blur px-4 py-1.5 text-sm font-bold text-white hover:bg-white/35 transition-colors`)
- No active state disabling needed (there is no single /learn page)
- MenuItems: same glassmorphic styling (`z-[100] mt-2 min-w-[200px] rounded-xl bg-white/95 backdrop-blur shadow-lg p-2`)

3. Render each item using MenuItem with disabled prop for Coming Soon items:
- For non-comingSoon items: render as `<Link href={item.href}>` with existing focus styling
- For comingSoon items: use `<MenuItem disabled>` and render as a `<span>` (not a link) with:
  - `cursor-default` (no pointer)
  - `opacity-60` for dimmed text
  - Coming Soon badge: `<span className="text-xs text-gray-500">Coming Soon</span>` aligned right
  - Use flexbox: `flex items-center justify-between` on the span

4. Remove the `isWhoPage` and `isWhatPage` variables and their usage since Who and What pages no longer exist in navigation. Keep `usePathname` import -- it may be needed for future active state on /my-relationships and /my-info. Actually, add active state logic for the new Learn pages:
```typescript
const isLearnPage = pathname === '/my-relationships' || pathname === '/my-info'
```
Do NOT disable the Learn dropdown when on a Learn page (unlike the old Who/What behavior). The Learn dropdown contains multiple pages, so it should always be openable. Instead, you could optionally highlight the current page's item in the dropdown, but this is not required -- keep it simple and skip item highlighting for now.

5. Keep the Book Menu and Sign In/Up button exactly as they are -- no changes.

6. Remove the `isWhoPage` and `isWhatPage` variables entirely since they are no longer used.
  </action>
  <verify>
Run `npm run build` -- should complete without errors. Verify Header.tsx contains "Learn" button text, `learnItems` array with 6 items, "Coming Soon" text, and `disabled` prop on MenuItem. Verify no references to `whoItems` or `whatItems` remain.
  </verify>
  <done>Header shows single Learn dropdown with 2 navigable items (My Relationships, My Info) and 4 disabled Coming Soon items (Add, My Projects, Take a Test, My Results). Book dropdown and Sign In/Up button unchanged.</done>
</task>

<task type="auto">
  <name>Task 2: Add URL redirects and update home page heading</name>
  <files>next.config.ts, src/app/page.tsx</files>
  <action>
1. Update `next.config.ts` to add permanent redirects:
```typescript
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  async redirects() {
    return [
      {
        source: '/who',
        destination: '/my-relationships',
        permanent: true,
      },
      {
        source: '/what',
        destination: '/my-info',
        permanent: true,
      },
    ]
  },
};

export default nextConfig;
```

2. Update `src/app/page.tsx` -- change the h1 heading text from:
"How can we improve the human condition one person, one couple, one family, and one office at a time?"
to:
"The Personality Continua"

Keep ALL other content on the page exactly as-is (the three body paragraphs, the metadata export, the layout classes). Only the h1 text changes.

3. Delete the old page files that are now replaced by redirects:
- Delete `src/app/who/page.tsx`
- Delete `src/app/what/page.tsx`
- Remove the `src/app/who/` and `src/app/what/` directories

These pages are no longer needed because next.config.ts redirects handle /who and /what requests at the routing level before they reach page components.

4. Search the codebase for any remaining references to `href="/who"` or `href="/what"` and update them to the new URLs. Check:
- `src/app/who/page.tsx` has a link to /what (will be deleted)
- `src/app/what/page.tsx` has a link to /who (will be deleted)
- `src/components/layout/Header.tsx` (already updated in Task 1)
- Any other files that may reference these old paths
  </action>
  <verify>
Run `npm run build` -- should complete without errors and without /who or /what as static routes (they should not appear in build output since pages are deleted and redirects are config-level). Verify `next.config.ts` contains redirects function. Verify home page h1 contains "The Personality Continua". Verify no files exist at `src/app/who/page.tsx` or `src/app/what/page.tsx`.
  </verify>
  <done>Visiting /who redirects to /my-relationships with 308 status. Visiting /what redirects to /my-info with 308 status. Home page heading reads "The Personality Continua". Old /who and /what page files are removed.</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Header.tsx contains Learn dropdown with 6 items (2 active, 4 Coming Soon)
3. No references to old whoItems/whatItems arrays
4. next.config.ts exports redirects from /who and /what
5. Home page h1 text is "The Personality Continua"
6. Old /who and /what directories deleted
7. No internal links pointing to /who or /what
</verification>

<success_criteria>
- Learn dropdown visible in header with correct items and Coming Soon badges
- Coming Soon items are disabled (not navigable)
- /who redirects to /my-relationships (308 permanent)
- /what redirects to /my-info (308 permanent)
- Home page heading reads "The Personality Continua"
- Build succeeds with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/09-navigation-content-restructure/09-01-SUMMARY.md`
</output>
