---
phase: 04-book-dialogs
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/dialogs/PublishersDialog.tsx
  - src/components/dialogs/AgentsDialog.tsx
  - src/components/dialogs/TherapistsDialog.tsx
  - src/components/layout/Header.tsx
autonomous: true

must_haves:
  truths:
    - "Book dropdown contains three items: Publishers, Agents, Therapists"
    - "Selecting Publishers opens dialog saying 'We will send you a proposal' with email or phone input"
    - "Selecting Agents opens dialog saying 'We will send you a proposal' with email or phone input"
    - "Selecting Therapists opens dialog saying 'We will send you a PDF of the book' with email input"
    - "All Book dialogs are visual-only with no actual form submission"
    - "Clicking outside dialog or pressing Escape closes it"
  artifacts:
    - path: "src/components/dialogs/PublishersDialog.tsx"
      provides: "Publishers booking dialog with email + phone inputs"
      exports: ["default"]
    - path: "src/components/dialogs/AgentsDialog.tsx"
      provides: "Agents booking dialog with email + phone inputs"
      exports: ["default"]
    - path: "src/components/dialogs/TherapistsDialog.tsx"
      provides: "Therapists booking dialog with email input only"
      exports: ["default"]
    - path: "src/components/layout/Header.tsx"
      provides: "Dialog state management and MenuItem onClick wiring"
      contains: "useState"
  key_links:
    - from: "src/components/layout/Header.tsx"
      to: "src/components/dialogs/PublishersDialog.tsx"
      via: "import + isOpen/onClose props"
      pattern: "PublishersDialog.*isOpen"
    - from: "src/components/layout/Header.tsx"
      to: "src/components/dialogs/AgentsDialog.tsx"
      via: "import + isOpen/onClose props"
      pattern: "AgentsDialog.*isOpen"
    - from: "src/components/layout/Header.tsx"
      to: "src/components/dialogs/TherapistsDialog.tsx"
      via: "import + isOpen/onClose props"
      pattern: "TherapistsDialog.*isOpen"
    - from: "MenuItem onClick"
      to: "useState setter"
      via: "onClick={() => setShow*(true)}"
      pattern: "onClick.*setShow"
---

<objective>
Create three visual-only Book dialogs (Publishers, Agents, Therapists) and wire them into the existing Book dropdown menu in the Header.

Purpose: Complete the final phase of the Continua website by enabling visitors to open booking dialogs from the Book dropdown. Dialogs display contact forms (visual-only, no submission) so the interface is ready for future backend wiring.

Output: Three dialog components in src/components/dialogs/ and updated Header.tsx with dialog state management and triggers.
</objective>

<execution_context>
@/Users/shantam/.claude/get-shit-done/workflows/execute-plan.md
@/Users/shantam/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-book-dialogs/04-RESEARCH.md
@.planning/phases/02-interactive-navigation/02-01-SUMMARY.md
@src/components/layout/Header.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create three Book dialog components</name>
  <files>
    src/components/dialogs/PublishersDialog.tsx
    src/components/dialogs/AgentsDialog.tsx
    src/components/dialogs/TherapistsDialog.tsx
  </files>
  <action>
Create directory src/components/dialogs/ and three dialog components using Headless UI Dialog.

Each component accepts props: `{ isOpen: boolean; onClose: () => void }`.

**PublishersDialog.tsx:**
- DialogTitle: "We will send you a proposal"
- Description: "Enter your email or phone number"
- Two inputs: type="email" placeholder="your@email.com", type="tel" placeholder="(555) 123-4567"
- Close button at bottom right

**AgentsDialog.tsx:**
- Identical structure to PublishersDialog (same title "We will send you a proposal", same description, same two inputs)
- Separate component for independent future customization

**TherapistsDialog.tsx:**
- DialogTitle: "We will send you a PDF of the book"
- Description: "Enter your email address"
- One input only: type="email" placeholder="your@email.com"
- Close button at bottom right

**Shared styling for all three dialogs:**
- Import: Dialog, DialogBackdrop, DialogPanel, DialogTitle, Description from @headlessui/react
- DialogBackdrop: `fixed inset-0 bg-black/30 backdrop-blur-sm z-[60]`
- Centering container: `fixed inset-0 z-[60] flex items-center justify-center p-4`
- DialogPanel: `max-w-md w-full rounded-xl bg-white/95 backdrop-blur shadow-lg p-6`
- DialogTitle: `text-lg font-bold text-foreground`
- Description: `text-sm text-gray-600 mt-2`
- Input styling: `w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent`
- Inputs container: `mt-4 space-y-3`
- Close button: `px-4 py-2 rounded-lg bg-accent text-white hover:bg-accent/90 transition-colors` in a `mt-6 flex justify-end` wrapper

No form element wrapping the inputs. No onSubmit handler. No validation. Visual-only per BOOK-05.

Each file starts with 'use client' directive.
  </action>
  <verify>
All three files exist and TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
Three dialog components exist in src/components/dialogs/ with correct titles, descriptions, input types, and glassmorphic styling. No form submission logic present.
  </done>
</task>

<task type="auto">
  <name>Task 2: Wire Book dropdown to open dialogs</name>
  <files>
    src/components/layout/Header.tsx
  </files>
  <action>
Modify the existing Header.tsx to integrate the three dialog components.

**Add imports:**
- `import { useState } from 'react'` (add useState to existing imports)
- `import PublishersDialog from '@/components/dialogs/PublishersDialog'`
- `import AgentsDialog from '@/components/dialogs/AgentsDialog'`
- `import TherapistsDialog from '@/components/dialogs/TherapistsDialog'`

**Add state hooks** inside the Header component (after existing pathname logic):
```
const [showPublishers, setShowPublishers] = useState(false)
const [showAgents, setShowAgents] = useState(false)
const [showTherapists, setShowTherapists] = useState(false)
```

**Update Book dropdown MenuItems:** Replace the existing placeholder buttons with onClick handlers that set dialog state. Each MenuItem button gets an onClick:
- Publishers: `onClick={() => setShowPublishers(true)}`
- Agents: `onClick={() => setShowAgents(true)}`
- Therapists: `onClick={() => setShowTherapists(true)}`

Keep existing button styling (focus-based bg-accent/10) and structure. Only add onClick handlers.

**Render dialog components** as siblings after the closing `</header>` tag but inside the fragment (wrap the return in a fragment `<>...</>` containing the header element and the three dialogs):
```
<PublishersDialog isOpen={showPublishers} onClose={() => setShowPublishers(false)} />
<AgentsDialog isOpen={showAgents} onClose={() => setShowAgents(false)} />
<TherapistsDialog isOpen={showTherapists} onClose={() => setShowTherapists(false)} />
```

Do NOT change any existing Who/What dropdown logic, active state logic, or styling. Only touch the Book section and add dialog rendering.
  </action>
  <verify>
Run `npx tsc --noEmit` to verify no type errors. Run `npm run build` to verify the build succeeds. Then run `npm run dev` and manually test: click Book dropdown, click each item (Publishers, Agents, Therapists), verify each opens a dialog with correct title and inputs, verify clicking outside or pressing Escape closes it.
  </verify>
  <done>
Book dropdown items open their respective dialogs. Publishers and Agents show "We will send you a proposal" with email + phone inputs. Therapists shows "We will send you a PDF of the book" with email input only. All dialogs close on backdrop click or Escape. No form submission occurs.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors (confirms static generation works with client dialogs)
2. Book dropdown still shows three items: Publishers, Agents, Therapists (BOOK-01)
3. Clicking Publishers opens dialog with title "We will send you a proposal" and email + phone inputs (BOOK-02)
4. Clicking Agents opens dialog with title "We will send you a proposal" and email + phone inputs (BOOK-03)
5. Clicking Therapists opens dialog with title "We will send you a PDF of the book" and email input only (BOOK-04)
6. No form submission logic exists anywhere in dialog components (BOOK-05)
7. Dialogs close when clicking outside or pressing Escape
8. Existing Who/What navigation and active states still work correctly
</verification>

<success_criteria>
All five BOOK requirements satisfied: dropdown has three items, each opens correct dialog with correct inputs, and no form submission occurs. Build passes. Existing navigation unaffected.
</success_criteria>

<output>
After completion, create `.planning/phases/04-book-dialogs/04-01-SUMMARY.md`
</output>
